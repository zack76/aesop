{"ast":null,"code":"import fetch from 'isomorphic-unfetch';\n\nclass BaseService {\n  get(url, params = null) {\n    if (params) {\n      url += (url.indexOf('?') === -1 ? '?' : '&') + this.queryParams(params);\n    }\n\n    return fetch(url, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json, text/plain, */*',\n        'Access-Control-Allow-Methods': 'GET',\n        \"Access-Control-Allow-Headers\": \"Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\",\n        'Content-Type': 'application/json;charset=UTF-8',\n        'Access-Control-Allow-Origin': 'https://www.aesop.com/au/api'\n      }\n    });\n  } // get2(url) {\n  //     const userToken = localStorage.getItem('userToken');\n  //     // const userToken = 'a95f6b7e569038cb2dfac8302d6d378e';\n  //     const authString = localStorage.getItem('authString');\n  //     return fetch(url, {\n  //         method: 'GET',\n  //         headers: {\n  //             Accept: 'application/json, text/plain, */*',\n  //             'Content-Type': 'application/json;charset=UTF-8',\n  //             'Authorization' : 'X-Auth-Token ' + userToken,\n  //             'Wechat-Browser-Acc': authString,\n  //         },\n  //     });\n  // }\n  //\n  // post(url, params = null) {\n  //     const userToken = localStorage.getItem('userToken');\n  //     const authString = localStorage.getItem('authString');\n  //     return fetch(url, {\n  //         method: 'POST',\n  //         headers: {\n  //             Accept: 'application/json, text/plain, */*',\n  //             'Content-Type': 'application/json;charset=UTF-8',\n  //             'Authorization' : 'X-Auth-Token ' + userToken,\n  //             'Wechat-Browser-Acc': authString,\n  //         },\n  //         body: JSON.stringify(params),\n  //     });\n  // }\n  //\n  // serverPost(url, params = null) {\n  //     return fetch(url, {\n  //         method: 'POST',\n  //         headers: {\n  //             Accept: 'application/json, text/plain, */*',\n  //             'Content-Type': 'application/json;charset=UTF-8',\n  //         },\n  //         body: JSON.stringify(params),\n  //     });\n  // }\n  //\n  // put(url, params = null) {\n  //     const userToken = 'a95f6b7e569038cb2dfac8302d6d378e';\n  //     // const userToken = localStorage.getItem('userToken');\n  //     const authString = localStorage.getItem('authString');\n  //     return fetch(url, {\n  //         method: 'PUT',\n  //         headers: {\n  //             Accept: 'application/json, text/plain, */*',\n  //             'Content-Type': 'application/json;charset=UTF-8',\n  //             'Authorization' : 'X-Auth-Token ' + userToken,\n  //             'Wechat-Browser-Acc': authString,\n  //         },\n  //         body: JSON.stringify(params),\n  //     });\n  // }\n  //\n  // delete(url, params = null) {\n  //     const userToken = localStorage.getItem('userToken');\n  //     // const userToken = 'a95f6b7e569038cb2dfac8302d6d378e';\n  //     const authString = localStorage.getItem('authString');\n  //     return fetch(url, {\n  //         method: 'DELETE',\n  //         headers: {\n  //             Accept: 'application/json, text/plain, */*',\n  //             'Content-Type': 'application/json;charset=UTF-8',\n  //             'Authorization' : 'X-Auth-Token ' + userToken,\n  //             'Wechat-Browser-Acc': authString,\n  //         },\n  //         body: JSON.stringify(params),\n  //     });\n  // }\n\n\n  queryParams(params) {\n    return Object.keys(params).map(k => encodeURIComponent(k) + '=' + encodeURIComponent(params[k])).join('&');\n  }\n\n}\n\nconst baseService = new BaseService();\nexport default baseService;","map":{"version":3,"sources":["/Users/Zac/Zack/aesop-test/aesop/src/service/BaseService.js"],"names":["fetch","BaseService","get","url","params","indexOf","queryParams","method","headers","Accept","Object","keys","map","k","encodeURIComponent","join","baseService"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,oBAAlB;;AAEA,MAAMC,WAAN,CAAkB;AACdC,EAAAA,GAAG,CAACC,GAAD,EAAMC,MAAM,GAAG,IAAf,EAAqB;AACpB,QAAIA,MAAJ,EAAY;AACRD,MAAAA,GAAG,IAAI,CAACA,GAAG,CAACE,OAAJ,CAAY,GAAZ,MAAqB,CAAC,CAAtB,GAA0B,GAA1B,GAAgC,GAAjC,IAAwC,KAAKC,WAAL,CAAiBF,MAAjB,CAA/C;AACH;;AACD,WAAOJ,KAAK,CAACG,GAAD,EAAM;AACdI,MAAAA,MAAM,EAAE,KADM;AAEdC,MAAAA,OAAO,EAAE;AACLC,QAAAA,MAAM,EAAE,mCADH;AAEL,wCAA+B,KAF1B;AAGL,wCAAgC,6EAH3B;AAIL,wBAAgB,gCAJX;AAKL,uCAA+B;AAL1B;AAFK,KAAN,CAAZ;AAUH,GAfa,CAiBd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAH,EAAAA,WAAW,CAACF,MAAD,EAAS;AAChB,WAAOM,MAAM,CAACC,IAAP,CAAYP,MAAZ,EACFQ,GADE,CACEC,CAAC,IAAIC,kBAAkB,CAACD,CAAD,CAAlB,GAAwB,GAAxB,GAA8BC,kBAAkB,CAACV,MAAM,CAACS,CAAD,CAAP,CADvD,EAEFE,IAFE,CAEG,GAFH,CAAP;AAGH;;AA7Fa;;AAiGlB,MAAMC,WAAW,GAAG,IAAIf,WAAJ,EAApB;AACA,eAAee,WAAf","sourcesContent":["import fetch from 'isomorphic-unfetch'\n\nclass BaseService {\n    get(url, params = null) {\n        if (params) {\n            url += (url.indexOf('?') === -1 ? '?' : '&') + this.queryParams(params);\n        }\n        return fetch(url, {\n            method: 'GET',\n            headers: {\n                Accept: 'application/json, text/plain, */*',\n                'Access-Control-Allow-Methods':'GET',\n                \"Access-Control-Allow-Headers\": \"Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\",\n                'Content-Type': 'application/json;charset=UTF-8',\n                'Access-Control-Allow-Origin': 'https://www.aesop.com/au/api'\n            }\n        });\n    }\n\n    // get2(url) {\n    //     const userToken = localStorage.getItem('userToken');\n    //     // const userToken = 'a95f6b7e569038cb2dfac8302d6d378e';\n    //     const authString = localStorage.getItem('authString');\n    //     return fetch(url, {\n    //         method: 'GET',\n    //         headers: {\n    //             Accept: 'application/json, text/plain, */*',\n    //             'Content-Type': 'application/json;charset=UTF-8',\n    //             'Authorization' : 'X-Auth-Token ' + userToken,\n    //             'Wechat-Browser-Acc': authString,\n    //         },\n    //     });\n    // }\n    //\n    // post(url, params = null) {\n    //     const userToken = localStorage.getItem('userToken');\n    //     const authString = localStorage.getItem('authString');\n    //     return fetch(url, {\n    //         method: 'POST',\n    //         headers: {\n    //             Accept: 'application/json, text/plain, */*',\n    //             'Content-Type': 'application/json;charset=UTF-8',\n    //             'Authorization' : 'X-Auth-Token ' + userToken,\n    //             'Wechat-Browser-Acc': authString,\n    //         },\n    //         body: JSON.stringify(params),\n    //     });\n    // }\n    //\n    // serverPost(url, params = null) {\n    //     return fetch(url, {\n    //         method: 'POST',\n    //         headers: {\n    //             Accept: 'application/json, text/plain, */*',\n    //             'Content-Type': 'application/json;charset=UTF-8',\n    //         },\n    //         body: JSON.stringify(params),\n    //     });\n    // }\n    //\n    // put(url, params = null) {\n    //     const userToken = 'a95f6b7e569038cb2dfac8302d6d378e';\n    //     // const userToken = localStorage.getItem('userToken');\n    //     const authString = localStorage.getItem('authString');\n    //     return fetch(url, {\n    //         method: 'PUT',\n    //         headers: {\n    //             Accept: 'application/json, text/plain, */*',\n    //             'Content-Type': 'application/json;charset=UTF-8',\n    //             'Authorization' : 'X-Auth-Token ' + userToken,\n    //             'Wechat-Browser-Acc': authString,\n    //         },\n    //         body: JSON.stringify(params),\n    //     });\n    // }\n    //\n    // delete(url, params = null) {\n    //     const userToken = localStorage.getItem('userToken');\n    //     // const userToken = 'a95f6b7e569038cb2dfac8302d6d378e';\n    //     const authString = localStorage.getItem('authString');\n    //     return fetch(url, {\n    //         method: 'DELETE',\n    //         headers: {\n    //             Accept: 'application/json, text/plain, */*',\n    //             'Content-Type': 'application/json;charset=UTF-8',\n    //             'Authorization' : 'X-Auth-Token ' + userToken,\n    //             'Wechat-Browser-Acc': authString,\n    //         },\n    //         body: JSON.stringify(params),\n    //     });\n    // }\n    queryParams(params) {\n        return Object.keys(params)\n            .map(k => encodeURIComponent(k) + '=' + encodeURIComponent(params[k]))\n            .join('&');\n    }\n\n}\n\nconst baseService = new BaseService();\nexport default baseService;\n"]},"metadata":{},"sourceType":"module"}